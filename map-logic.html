---
layout: none
---
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sutta Pitaka Parallels</title>
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/lib/ol/ol.css">
    <script src="{{ site.baseurl }}/assets/lib/ol/ol.js"></script>
    <style>
        html, body { margin: 0; height: 100%; width: 100%; overflow: hidden; }
        #map { width: 100%; height: 100%; background-color: white; }
        .ol-control { font-size: 17px; }
        .cross {
			top: 0.5em;
			right: 0.5em;
            color: #aaaaaa;
			float: right;
			font-size: 17px;
			font-weight: bold;
		}
        .back-button {
            top: 0.5em;
            left: 0.5em;
            color: #aaaaaa;
            font-size: 17px;
            font-weight: bold;
        }
        .ol-zoom {
            top: 3em !important;
        }
        .close:hover,
		.close:focus,
        .back-button:hover,
        .back-button:focus {
			color: #000;
			text-decoration: none;
			cursor: pointer;
		}
        .back-button button {
        background-image: url('{{ site.baseurl }}/assets/icons/previous.png');
        background-size: 40%;
        background-repeat: no-repeat;
        background-position: center;
        }
        /* .back-button button {
            background: rgba(255,255,255,.8);
            border: none;
            border-radius: 2px;
            color: #aaaaaa;
            font-size: 1.14em;
            font-weight: bold;
            margin: 1px;
            padding: 0;
            width: 1.375em;
            height: 1.375em;
            text-decoration: none;
            text-align: center;
            cursor: pointer;
            background-image: url('{{ site.baseurl }}/assets/icons/previous.png');
            background-size: 50%;
            background-repeat: no-repeat;
            background-position: center;
            background-color: rgba(255,255,255,.8);
        }
        .back-button button:hover,
        .back-button button:focus {
            background-color: rgba(255,255,255,1);
            outline: none;
        }
        /* Override default zoom button styles for consistency */
        /*.ol-zoom .ol-zoom-in,
        .ol-zoom .ol-zoom-out {
            background: rgba(255,255,255,.8) !important;
        }
        .ol-zoom .ol-zoom-in:hover,
        .ol-zoom .ol-zoom-out:hover,
        .ol-zoom .ol-zoom-in:focus,
        .ol-zoom .ol-zoom-out:focus {
            background: rgba(255,255,255,1) !important;
        } */
    </style>
</head>
<body>
    <div id="map" class="map"></div>
    <script>
        const width = 9933;
        const height = 9933;
        const extent = [0, 0, width, height];
        
        // cross button (existing)
        const button = document.createElement("button");
        button.innerHTML = "&times;";
        
        {% assign cols = site.collections %}
        {% for col in cols %}
            {% assign docs = col.docs %}
            {% for doc in docs %}
                {% if doc.path == "_charts/digital/sutta-parallels.md" %}
                    console.log("{{doc.path}}")
                    {% assign link = doc.url | prepend: site.baseurl %}
                {% endif %}
            {% endfor %}    
        {% endfor %}
        {% assign cols = site.collections %}
       
        const handle = function (e) {
            window.open("{{ link }}", "_self");
        };
        button.addEventListener("click", handle, false);
        const element = document.createElement("div");
		element.className = "cross ol-unselectable ol-control";
		element.appendChild(button);
		const OneControl = new ol.control.Control({
			element: element
		});
        
        // back button (new)
        const backButton = document.createElement("button");
        backButton.innerHTML = "";
        const backHandle = function (e) {
            window.history.back();
        };
        backButton.addEventListener("click", backHandle, false);
		
        const backElement = document.createElement("div");
		backElement.className = "back-button ol-unselectable ol-control";
		backElement.appendChild(backButton);
		const BackControl = new ol.control.Control({
			element: backElement
		});
        // end back button
        
        const projection = new ol.proj.Projection({
            code: "pixels",
            units: "pixels",
            extent: extent,
        });
        const overlay = new ol.Overlay({
            element: document.createElement("div"),
        });
        const map = new ol.Map({
            layers: [
                new ol.layer.Tile({
                    preload: Infinity,
                    extent: extent,
                    source: new ol.source.TileImage({
                        url: "{{ site.baseurl }}/assets/images/A0S-Parallels/tiles/{z}/{y}/{x}.png",
                    })
                })
            ],
            overlays: [overlay],
            target: "map",
            view: new ol.View({
                projection: projection,
                center: ol.extent.getCenter(extent),
                zoom: 2,
                maxZoom: 6
            }),
        });
        map.addControl(OneControl);
        map.addControl(BackControl);
        
        // cursor
        map.getViewport().style.cursor = "-webkit-grab";
        map.on("pointerdrag", function (evt) {
            map.getViewport().style.cursor = "-webkit-grabbing";
        });
        map.on("pointerup", function (evt) {
            map.getViewport().style.cursor = "-webkit-grab";
        });
    </script>
</body>